utility funtions for version 3
